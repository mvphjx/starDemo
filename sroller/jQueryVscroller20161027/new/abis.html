<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>Reading xml with jQuery</title>
    <script src="../js/jquery-1.4.4.min.js" type="text/javascript"></script>
    <link href="../css/vscroller.css" rel="stylesheet" type="text/css"/>
    <script src="vscroller.js" type="text/javascript"></script>
    <style type="text/css">
        body {
            margin: 0;
            padding: 0;
            background: url(../images/bg-body.jpg);
            font-family: Arial;
        }

    </style>

</head>
<body>

<div class="news-wrapper" id="vscroller">
    <div class="news-contents-wrapper">
        <div class="news-header">最新比中</div>
        <div class="news-contents">
            <div class="news" style="top: 0px;">
                <div class="history">
                    <div class="circle-outer">
                        <div class="circle blue"><span class="day">22号</span><span class="elipses"></span><span
                                class="month">一月</span></div>
                    </div>
                </div>
                <div class="description"><h1><a href="#">比中号码</a></h1>
                    <div class="detail">
                        认定时间：2018年5月14日17:04:21
                        认定单位：啊啊啊啊
                        案件编号：A123123213123123
                        人员编号：M121231321231123
                        查询类型: 正查
                    </div>
                </div>
            </div>
            <div class="news" style="top: 101px;">
                <div class="history">
                    <div class="circle-outer">
                        <div class="circle yellow"><span class="day">24号</span><span class="elipses"></span><span
                                class="month">十一月</span></div>
                    </div>
                </div>
                <div class="description"><h1><a href="#">jQuery Pagination Plugin</a></h1>
                    <div class="detail">Smart Paginator is a comprehensive jQuery Pagination plugin that makes adding
                        pa...
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


</body>
<script>
    $(".news").each(function () {
        var newsContents = $(this);
        var interval = null;
        var mouseIn = false;
        var totalElements = $(".news").length;
        var isScrolling = false;
        var h = parseFloat($('.news:eq(0)').outerHeight());
        var t = (totalElements - 1) * h;
        var settings = {
            speed: 1000, stay: 2000, newsfeed: '', cache: true
        };
        newsContents.mouseenter(function () {
            mouseIn = true;
            if (!isScrolling) {
                $('.news').stop(true, false);
                clearTimeout(interval);
            }
        });
        newsContents.mouseleave(function () {
            mouseIn = false;
            interval = setTimeout(scroll, settings.stay);
        });
        interval = setTimeout(scroll, 1);
        function scroll() {
            if (!mouseIn && !isScrolling) {
                isScrolling = true;
                $('.news:eq(0)').stop(true, false).animate({ top: -h }, settings.speed, function () {

                    clearTimeout(interval);
                    var current = $('.news:eq(0)').clone(true);
                    current.css({ top: t });
                    $('.news-contents').append(current);
                    $('.news:eq(0)').remove();
                    isScrolling = false;
                    interval = setTimeout(scroll, settings.stay);

                });
                $('.news:gt(0)').stop(true, false).animate({ top: '-=' + h }, settings.speed);
            }
        }
    });

</script>
</html>
