<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title></title>

    <script type="text/javascript" class="library" src="https://cdn.bootcss.com/jquery/1.12.4/jquery.js"></script>
    <script type="text/javascript" class="library" src="ObjTree.js"></script>
    <style type="text/css">
        textarea{
            width: 700px;
            height: 600px;
        }
        #json1{
            background: #8FB0CF;
        }
        #xml2{
            background: #8FB0CF;
        }
    </style>
</head>

<body>
<div>xml->json</div>
<textarea id="xml1"></textarea>
<textarea id="json1" readonly></textarea>
<div>json->xml</div>
<textarea id="json2"></textarea>
<textarea id="xml2" readonly></textarea>
</body>
<script type="text/javascript">
    var xmlStr = '<?xml version="1.0" encoding="UTF-8" ?><ImgMntTransformParam><Mirror Type="NONE" /><Scale Type="MANUAL"><Param Name="LowerBound">0.5</Param><Param Name="UpperBound">1.0</Param><Param Name="Step">0.1</Param><Param Name="ScaleCount">5</Param></Scale></ImgMntTransformParam>';
    $("#xml1").text(xmlStr);
    $("#xml1").blur(function () {
        var xmlStr = $("#xml1").val();
        //将xml字符串转为json
        var xotree = new XML.ObjTree();
        var json = xotree.parseXML(xmlStr);
        $("#json1").text(JSON.stringify(json))
        console.log(json);
    });

    $("#json2").blur(function () {
        var jsonStr = $("#json2").val();
        var xotree = new XML.ObjTree();
        var xml = xotree.writeXML(JSON.parse(jsonStr));
        $("#xml2").text(xml)
    });


</script>
</html>
